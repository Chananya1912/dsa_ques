<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Widget</title>
</head>
<body>
  <h1>WEATHER WIDGET</h1>

  <input type="text" id="city" placeholder="Enter TOKYO">
  <button id="getWeather">GET BUTTON</button>

  <div id="status"></div>
  <div id="weather"></div>
  <script>
  let btn = document.querySelector("#getWeather");
  let statusDiv = document.querySelector("#status");
  let weatherDiv= document.querySelector("#weather");
  
  btn.addEventListener("click", async function()
{
  let api = "https://api.open-meteo.com/v1/forecast?latitude=35&longitude=139&current_weather=true";
        let res = await fetch(api);
        if (!res.ok) {
        statusDiv.innerHTML = "Failed to fetch weather!";
        return;
      }

      let data = await res.json();
      let temp = data.current_weather.temperature;
      let wind = data.current_weather.windspeed;
        console.log("fetchingg");
        console.log("Temperature: " + temp + "°C");
        console.log("Windspeed: " + wind + " km/h");

        weatherDiv.innerHTML = " Temperature: " + temp + "°C <br>  Windspeed: " + wind + " km/h";
        console.log("temperature fetched");
})
    </script>
</body>
</html>